# BUNDLE

alias bi="bundle install"
alias bu="bundle update"
alias be="bundle exec"

# GIT

alias gds="git diff --staged"
alias gaa="ga ."
alias grm="git status | grep deleted | awk '{print \$3}' | xargs git rm"
alias gll="git log --pretty=format:'%C(yellow)%h %C(cyan)%ad %Creset%s%Cred [%cn]' --decorate --date=short"

function timesheet () {
  if [ -z "$1" ]; then
    SINCE="8am"
  else
    SINCE=$1
  fi
  git log --oneline --author="`git config --get user.name`" --since=$SINCE
}

function gundo () {
  git reset --soft HEAD~1
  git reset HEAD `git status -s | tr -d 'M' | tr -d '\n'`
}

function gclean () {
  git remote prune origin
  git fetch
  git branch -a --merged | grep -v -E 'master|stable|staging' | sed 's/^/git branch -d/' | sed 's/branch -d  remotes\/origin\//push origin :/'
}

# EDITOR

alias subl="/Applications/Sublime\ Text\ 2.app/Contents/SharedSupport/bin/subl"

# SPORK

alias td="nocorrect testdrb -Itest"

# RAILS

alias t="ruby -Itest"
alias sc="script/console"
alias sg='script/generate'
alias migrate='rake db:migrate db:test:prepare'

# POSTGRESQL

function resetdb () {
  if [ -z "$1" ]; then
    echo 'resetdb: missing required argument database name'
  else
    dropdb $1 && createdb $1
  fi
}
alias dumpdb='pg_restore --verbose --clean --no-acl --no-owner -h localhost -d'

# ZSH

alias thin="nocorrect thin"
alias thor="nocorrect thor"
alias npm="nocorrect npm"
alias grunt="nocorrect grunt"
alias guard="nocorrect guard"
alias neat="nocorrect neat"
alias rspec="nocorrect rspec"
alias guard="guard --no-bundler-warning"
alias reload!='. ~/.zshrc'

# SSH

alias ssh_minecraft="ssh minecraft@88.191.147.82"
alias myssh="pbcopy < ~/.ssh/id_rsa.pub"

# IP

alias myip="ifconfig | grep 'inet ' | grep -v 127.0.0.1 | awk '{ print $2}'"

# ARCHIVE

function extract () {
  if [ -f $1 ] ; then
    case $1 in
      *.tar.bz2)   tar xjf $1     ;;
      *.tar.gz)    tar xzf $1     ;;
      *.bz2)       bunzip2 $1     ;;
      *.rar)       unrar e $1     ;;
      *.gz)        gunzip $1      ;;
      *.tar)       tar xf $1      ;;
      *.tbz2)      tar xjf $1     ;;
      *.tgz)       tar xzf $1     ;;
      *.zip)       unzip $1       ;;
      *.Z)         uncompress $1  ;;
      *.7z)        7z x $1        ;;
      *)     echo "'$1' cannot be extracted via extract()" ;;
    esac
  else
    echo "'$1' is not a valid file"
  fi
}

# PATH

alias l.='ls -ld .*'
alias dotfiles="cd $DOTFILES"

function mcd() {
  mkdir -p "$1" && cd "$1";
}

# HEROKU

alias he="heroku"

# CURL

function get() {
  curl -b /tmp/.curl_cookie -c /tmp/.curl_cookie "$@"
}

function post() {
  get -d "$@"
}

function put() {
  get -X PUT -d "$@"
}

function delete() {
  get -X DELETE "$@"
}

# UPDATE

function update () {
  # Set OS X defaults
  $DOTFILES/osx/set-defaults.sh

  # Upgrade homebrew
  brew update
}

# XCODE

alias ios="open /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/Applications/iPhone\ Simulator.app"
